---
import type { GetStaticPaths } from "astro";
import { getEntry } from "astro:content";
import BaseHead from "../components/basehead.astro";
import Navbar from "../components/navbar.astro";
import Footer from "../components/footer.astro";

export const getStaticPaths = (() => {
	return [
		{ params: { legal: 'privacy' }},
		{ params: { legal: 'terms' }},
	];
}) satisfies GetStaticPaths;

const { legal } = Astro.params;
const entry = await getEntry("legal", legal);
const { Content, headings } = await entry.render()
---

<html lang="en">
	<head>
		<BaseHead title={ entry.data.title } />
	</head>

	<body class="bg-orange-100 text-stone-800 dark:bg-stone-800 dark:text-orange-100">
		<div class="w-svw h-svh">
			<Navbar location="" />

			<div class="w-full px-8 py-10 flex items-center justify-center">
				<article class="lg:w-4/5 py-2.5 px-3.5 max-w-none prose prose-stone dark:prose-invert">
					<header>
						<h1>{ entry.data.title }</h1>
						<time
							datetime={ new Date(entry.data.date).toLocaleString() }
						>
							{ `Last updated: ${new Date(entry.data.date).toLocaleDateString()}` }
						</time>
					</header>

					<Content />
				</article>
			</div>

			<Footer />
		</div>
	</body>
</html>